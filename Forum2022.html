<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./styles/AvaMedindex.css">
    <link rel="stylesheet" type="text/css" href="./styles/AvaMed2022.css">
    <link rel="stylesheet" type="text/css" href="./styles/AvaMedEN.css">

    <link href='https://fonts.googleapis.com/css?family=Kanit' rel='stylesheet'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300&display=swap" rel="stylesheet">

    <title>AvatarMedicine</title>


</head>




<body>
    <!--top-->
    <div class="topboard">
        <div class="topboard-left">

            <div class="topboard-left-1">Avatar Medicine Forum</div>
            <div class="topboard-left-2 ENTL2">
                Reflection of oneself in the mirror
            </div>
        </div>
        <div class="topboard-middle"></div>
        <div class="topboard-right">
            <a href="indextw.html" class="TBR-items">
                <div>Chinese</div>
            </a>
            <a href="index.html" class="TBR-items">
                <div>English</div>
            </a>
            <div class="TBR-items" onmouseover="showDropdownMenu()" onmouseout="hideDropdownMenu()">
                Past Events
                <div class="dropdown-menu" id="dropdown-menu">
                    <a href="Forum2021.html">2021</a>
                    <a href="Forum2022.html">2022</a>
                    <a href="ForumEN.html">2023</a>
                </div>
            </div>
            <a href="https://www.cancerfree.io/zh-tw/index" class="TBR-items">
                <div>Contact Us</div>
            </a>
        </div>
    </div>
    <div style="height: 20vh;width: 100%;background-color: rgba(255, 255, 255, 0);"></div>

    <!--Contant-->
    <div class="IM_title">
        <div class="IM_frontblock"></div>
        <div class="IM_title_txt" id="titletxt"></div>
        <div id="titlename"></div>
    </div>
    <div class="flexcontant" id="flexcontant">
        <div id="videocontant">
            <div id="videoblock">
                <div class="buttons">
                    <button style="transform: scaleY(2);" onclick="prevContent()">&lt;</button>
                </div>
                <div id="mainvideo">
                    <iframe id="ytScreen" width=100% height=100% src=""
                        title="YouTube video player" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen></iframe>
                </div>
                <div class="buttons">
                    <button style="transform: scaleY(2);" onclick="nextContent()">&gt;</button>
                </div>
            </div>
            <div id="listvideo">
                <div class="listunit"></div>
                <div class="listunit"></div>
                <div class="listunit"></div>
                <div class="listunit"></div>
                <div class="listunit"></div>
                <div class="listunit"></div>
                <div class="listunit"></div>
                <div class="listunit"></div>
            </div>
        </div>
        <div id="videointro">
            <p id="introtitle"></p>
            <p id="introtxt"></p>
        </div>
    </div>


    <script>
        function showDropdownMenu() {
            const dropdownMenu = document.getElementById('dropdown-menu');
            dropdownMenu.style.display = 'block';
        }

        function hideDropdownMenu() {
            const dropdownMenu = document.getElementById('dropdown-menu');
            dropdownMenu.style.display = 'none';
        }


        //random backgroun-color
        function getRandomColor() {
            const letters = "0123456789ABCDEF";
            let color = "#";
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        function setRandomBackgroundColor(elementId) {
            const element = document.getElementById(elementId);
            const randomColor = getRandomColor();
            element.style.backgroundColor = randomColor;
            element.style.opacity = 0.9; // 設置透明度
            element.style.borderStyle = "solid"
        }

        const ids = ["flexcontant", "videoblock", "titlename", "videocontant", "mainvideo", "listvideo", "videointro", "introtitle", "introtxt", "titletxt"];
        //ids.forEach(id => setRandomBackgroundColor(id));
        //random backgroun-color

        const contents = [
            {
                title: "Opening Remarks and Guest Speech",
                name: "",
                videosrc: "https://www.youtube.com/embed/8aMcAMqGNkM",
                introtitle: "Zhuang Jingcheng",
                description: `Legislative Yuan, Social Welfare and 
                Environmental `,
            },
            {
                title: "Opening Remarks and Guest Speech",
                name: "",
                videosrc: "https://www.youtube.com/embed/AsaTfOncxUk",
                introtitle: "Michael C. Lu",
                description: `Dean of the School of Public Health, University of 
                California, Berkeley`,
            },
            {
                title: "Opening Remarks and Guest Speech",
                name: "彭汪嘉康 院士​",
                videosrc: "https://www.youtube.com/embed/S9nBYsFEUNA",
                introtitle: "Peng Wang-Jiakang",
                description: `Academician of Academia Sinica`,
            },
            // {
            //     title: "中央研究院轉譯醫學中心​",
            //     name: "陶秘華 執行長  ",
            //     videosrc: " ",
            //     introtitle: "小鼠替身 免疫治療",
            //     description: `演講者陶秘華先生，中央研究院執行長兼優秀研究員。他強調
            //     傳統抗癌治療的限制，並介紹免疫療法在特定患者中的積極成果。他專注於發
            //     展新的免疫療法策略，利用PDX和HIS小鼠模型評估癌症免疫療法效果。研究
            //     重點在探討巨噬細胞在癌症轉移中的角色，以及PDX和HIS小鼠在抗腫瘤藥物
            //     篩選和免疫機制研究的價值。他的研究成果對改進癌症治療和免疫療法發展
            //     至關重要。謝謝各位的聆聽！`,
            // },
            {
                title: "Tumor Avatars: 3D Printing",
                name: "Chae Soo-Yoon",
                videosrc: "https://www.youtube.com/embed/u-DQ_M8ZDYY",
                introtitle: "Chae Soo-Yoon",
                description: `CLECELL Co., Ltd,\n Marketing Director.`,
            },
            {
                title: "Tumor Avatars: Clinical Practice",
                name: "呂隆昇 主任",
                videosrc: "https://www.youtube.com/embed/0wi3RkH23qg",
                introtitle: "Lu Longsheng",
                description: `Director of Cell Therapy Center, Taipei
                Medical University Hospital`,
            },
            // {
            //     title: "商圖策智能科技有限公司​",
            //     name: "林清詠 執行長 ",
            //     videosrc: " ",
            //     introtitle: "數據替身 人工智慧  ",
            //     description: `這位演講者是Graphen公司的CEO，林清詠。他分享了Graphen基
            //     因學的數位趨勢。他們利用數位趨勢做個人化醫療，將人體數位化，以預測、診
            //     斷和優化治療方案。Graphen提供基因組分析、蛋白質組測試等，並利用人工智
            //     慧技術提供精確的藥物劑量、治療效果預測等。這項技術有望幫助人們更好地了
            //     解自己的健康情況，並做出更明智的治療決策。`,
            // },
            {
                title: "3D Avatars: Integration of Virtual and Reality",
                name: "",
                videosrc: "https://www.youtube.com/embed/Xi40XTILPdA",
                introtitle: "Lin Junhong",
                description: `CEO of Ark Intelligence Co., Ltd.`,
            },
            {
                title: "Virtual Avatars: Game-based Rehabilitation",
                name: "",
                videosrc: "https://www.youtube.com/embed/H6r9kty8m6g",
                introtitle: "Xie Hexiang",
                description: `CEO of FITION INC.`,
            },
            // {
            //     title: "數位經濟暨產業發展協會​",
            //     name: "詹婷怡 副理事長​",
            //     videosrc: " ",
            //     introtitle: "閉幕致詞​",
            //     description: ``,
            // },
            // 添加其他內容
        ];

        const speakerunit = document.getElementById("titletxt")
        const speakername = document.getElementById("titlename")
        const speakerpatch = document.getElementById("introtitle")
        const speakerintro = document.getElementById("introtxt")
        const speakerscreen = document.getElementById("ytScreen")
        let currentIndex = 0;
        function displayContent() {
            const content = contents[currentIndex];
            speakerunit.textContent = content.title;
            speakername.textContent = content.name;
            speakerpatch.textContent = content.introtitle;
            speakerintro.textContent = content.description;
            speakerscreen.src = content.videosrc
        }
        function prevContent() {
            currentIndex = (currentIndex - 1 + contents.length) % contents.length;
            displayContent();
        }

        function nextContent() {
            currentIndex = (currentIndex + 1) % contents.length;
            displayContent();
        }
        displayContent();

        const listvideo = document.getElementById("listvideo");

        listvideo.addEventListener("wheel", (event) => {
            const scrollSpeed = 40; // 調整滾動速度
            event.preventDefault();
            listvideo.scrollLeft += event.deltaY > 0 ? scrollSpeed : -scrollSpeed;
        });


        // 生成並插入多個 iframe
        const listVideoElement = document.getElementById("listvideo");
        listVideoElement.innerHTML = ""; // 清空原先的內容

        function getYouTubeVideoID(url) {
            const regex = /(?:\/embed\/|watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
            const match = url.match(regex);
            return match ? match[1] : null;
        }

        // 定義點擊後觸發的函式
        function handleClick(i) {
            currentIndex = i;
            displayContent();
        }

        // 透過迴圈創建 listunit 區塊並添加點擊事件監聽器
        for (let i = 0; i < contents.length; i++) {
            const content = contents[i];
            const YouTubeVideoID = getYouTubeVideoID(content.videosrc);
            const YTimagesrc = `https://img.youtube.com/vi/${YouTubeVideoID}/default.jpg`;
            const iconUrl = "./images/YTicon16.png"

            const listUnitElement = document.createElement("div");
            listUnitElement.classList.add("listunit");
            listUnitElement.style.backgroundImage = `url(${YTimagesrc})`;

            // 添加 ICON
            const iconElement = document.createElement("img");
            iconElement.src = iconUrl;
            iconElement.classList.add("icon");
            listUnitElement.appendChild(iconElement);

            // 添加點擊事件監聽器，注意此處只傳遞函式名稱，不要呼叫
            listUnitElement.addEventListener("click", function () {
                handleClick(i);
            });

            listVideoElement.appendChild(listUnitElement);
        }








        // const iframeElement = document.createElement("iframe");
        // iframeElement.width = "100%";
        // iframeElement.height = "100%";
        // iframeElement.src = content.videosrc;
        // iframeElement.title = "YouTube video player";
        // iframeElement.frameBorder = "0";
        // iframeElement.allow =
        //     "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share";
        // iframeElement.allowfullscreen = true;

        // listUnitElement.appendChild(iframeElement);
        //listVideoElement.appendChild(listUnitElement);
        
        //生成listunit
    </script>

</body>



</html>